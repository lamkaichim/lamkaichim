<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 600 100"
     preserveAspectRatio="xMidYMid slice">

  <!-- Background & color transitions -->
  <rect width="100%" height="100%" fill="#000000">
    <set attributeName="fill" to="#FFD700" begin="seg1draw.begin" />
    <set attributeName="fill" to="#1E90FF" begin="seg2draw.begin" />
    <set attributeName="fill" to="#8B00FF" begin="seg3draw.begin" />
    <set attributeName="fill" to="#000000" begin="seg4draw.begin" />
  </rect>

  <!-- Segment 1 -->
  <g id="seg1" visibility="visible">
    <path id="p1" d="M0,50 H0" fill="none"/>
    <!-- Draw text, restarting on loop -->
    <animate id="seg1draw" href="#p1" attributeName="d"
             values="M0,50 H0; M0,50 H500"
             dur="2s"
             begin="0s;loop.end+0.1s"
             fill="freeze" />
    <!-- Delete text -->
    <animate id="seg1del" href="#p1" attributeName="d"
             values="M0,50 H500; M0,50 H0"
             dur="1s"
             begin="seg1draw.end"
             fill="freeze" />
    <!-- Text content -->
    <text font-family="system-ui" font-size="20" fill="#FFFFFF"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle">
      <textPath href="#p1">第一段文字</textPath>
    </text>
    <!-- Cursor blink -->
    <text id="cursor1" visibility="hidden"
          font-family="system-ui" font-size="20" fill="#FFFFFF"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle">
      <textPath href="#p1" startOffset="100%">|</textPath>
      <animate id="seg1_blink" attributeName="opacity"
               values="1;0;1" keyTimes="0;0.5;1"
               dur="1s" begin="seg1del.end"
               fill="freeze" repeatCount="1" calcMode="discrete"/>
      <set attributeName="visibility" to="visible" begin="seg1del.end"/>
    </text>
    <!-- Hide segment after blink -->
    <set attributeName="visibility" to="hidden" begin="seg1_blink.end"/>
  </g>

  <!-- Segment 2 -->
  <g id="seg2" visibility="hidden">
    <path id="p2" d="M0,50 H0" fill="none"/>
    <animate id="seg2draw" href="#p2" attributeName="d"
             values="M0,50 H0; M0,50 H500"
             dur="2s"
             begin="seg1_blink.end"
             fill="freeze" />
    <animate id="seg2del" href="#p2" attributeName="d"
             values="M0,50 H500; M0,50 H0"
             dur="1s"
             begin="seg2draw.end"
             fill="freeze" />
    <text font-family="system-ui" font-size="20" fill="#8B00FF"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle">
      <textPath href="#p2">第二段文字</textPath>
    </text>
    <text id="cursor2" visibility="hidden"
          font-family="system-ui" font-size="20" fill="#8B00FF"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle">
      <textPath href="#p2" startOffset="100%">|</textPath>
      <animate id="seg2_blink" attributeName="opacity"
               values="1;0;1" keyTimes="0;0.5;1"
               dur="1s" begin="seg2del.end"
               fill="freeze" repeatCount="1" calcMode="discrete"/>
      <set attributeName="visibility" to="visible" begin="seg2del.end"/>
    </text>
    <set attributeName="visibility" to="visible" begin="seg1_blink.end"/>
    <set attributeName="visibility" to="hidden" begin="seg2_blink.end"/>
  </g>

  <!-- Segment 3 -->
  <g id="seg3" visibility="hidden">
    <path id="p3" d="M0,50 H0" fill="none"/>
    <animate id="seg3draw" href="#p3" attributeName="d"
             values="M0,50 H0; M0,50 H500"
             dur="2s"
             begin="seg2_blink.end"
             fill="freeze" />
    <animate id="seg3del" href="#p3" attributeName="d"
             values="M0,50 H500; M0,50 H0"
             dur="1s"
             begin="seg3draw.end"
             fill="freeze" />
    <text font-family="system-ui" font-size="20" fill="#FFFFFF"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle">
      <textPath href="#p3">第三段文字</textPath>
    </text>
    <text id="cursor3" visibility="hidden"
          font-family="system-ui" font-size="20" fill="#FFFFFF"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle">
      <textPath href="#p3" startOffset="100%">|</textPath>
      <animate id="seg3_blink" attributeName="opacity"
               values="1;0;1" keyTimes="0;0.5;1"
               dur="1s" begin="seg3del.end"
               fill="freeze" repeatCount="1" calcMode="discrete"/>
      <set attributeName="visibility" to="visible" begin="seg3del.end"/>
    </text>
    <set attributeName="visibility" to="visible" begin="seg2_blink.end"/>
    <set attributeName="visibility" to="hidden" begin="seg3_blink.end"/>
  </g>

  <!-- Segment 4 -->
  <g id="seg4" visibility="hidden">
    <path id="p4" d="M0,50 H0" fill="none"/>
    <animate id="seg4draw" href="#p4" attributeName="d"
             values="M0,50 H0; M0,50 H500"
             dur="2s"
             begin="seg3_blink.end"
             fill="freeze" />
    <animate id="seg4del" href="#p4" attributeName="d"
             values="M0,50 H500; M0,50 H0"
             dur="1s"
             begin="seg4draw.end"
             fill="freeze" />
    <text font-family="system-ui" font-size="20" fill="#8B00FF"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle">
      <textPath href="#p4">第四段文字</textPath>
    </text>
    <text id="cursor4" visibility="hidden"
          font-family="system-ui" font-size="20" fill="#8B00FF"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle">
      <textPath href="#p4" startOffset="100%">|</textPath>
      <animate id="seg4_blink" attributeName="opacity"
               values="1;0;1" keyTimes="0;0.5;1"
               dur="1s" begin="seg4del.end"
               fill="freeze" repeatCount="1" calcMode="discrete"/>
      <set attributeName="visibility" to="visible" begin="seg4del.end"/>
    </text>
    <set attributeName="visibility" to="visible" begin="seg3_blink.end"/>
    <set attributeName="visibility" to="hidden" begin="seg4_blink.end"/>
  </g>

  <!-- Invisible loop trigger -->
  <animate id="loop" href="#p1" attributeName="d"
           begin="seg4_blink.end"
           dur="0.1s"
           fill="freeze" />

</svg>
