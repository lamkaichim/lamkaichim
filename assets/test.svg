<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     viewBox="0 0 600 100" preserveAspectRatio="xMidYMid slice">

  <!-- 背景调色 -->
  <rect id="bg" width="100%" height="100%" fill="#FFD700"/>
  <set xlink:href="#bg" attributeName="fill" to="#FFD700" begin="seg1draw.begin"/>
  <set xlink:href="#bg" attributeName="fill" to="#000000" begin="seg2draw.begin"/>
  <set xlink:href="#bg" attributeName="fill" to="#1E90FF" begin="seg3draw.begin"/>
  <set xlink:href="#bg" attributeName="fill" to="#32CD32" begin="seg4draw.begin"/>

  <!-- ===== Segment 1 ===== -->
  <g id="seg1" visibility="visible">
    <path id="p1" d="M0,50 H0" fill="none"/>

    <!-- 路径打字 / 删除 -->
    <animate id="seg1draw" xlink:href="#p1" attributeName="d"
             values="M0,50 H0;M0,50 H500" dur="2s"  begin="0s;loop.end+0.1s" fill="freeze"/>
    <animate id="seg1del"  xlink:href="#p1" attributeName="d"
             values="M0,50 H500;M0,50 H0" dur="1s"  begin="seg1draw.end+0.5s" fill="freeze"/>

    <!-- 文本 -->
    <text font-family="system-ui" font-size="30" font-weight="bold"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle" fill="#FFFFFF">
      <textPath xlink:href="#p1" href="#p1">第一段文字</textPath>
    </text>

    <!-- 圆球光标：r=6，随 cx 动画 -->
    <circle cy="50" r="6" fill="#FFFFFF" opacity="1">
      <!-- 0→500 (2s)  停0.5s  500→0 (1s) -->
      <animate attributeName="cx"
               values="0;500;500;0"
               keyTimes="0;0.571;0.714;1"
               dur="3.5s"  begin="0s;loop.end+0.1s"
               repeatCount="indefinite" fill="freeze"/>
      <!-- 闪烁 -->
      <animate attributeName="opacity"
               values="1;0;1" keyTimes="0;0.5;1"
               dur="1s" begin="0s;loop.end+0.1s"
               repeatCount="indefinite" calcMode="discrete"/>
    </circle>

    <set attributeName="visibility" to="hidden" begin="seg1del.end+1s"/>
  </g>

  <!-- 其余 Segment 2‒4：把以上 <circle> 块复制到各段，
       改 begin="seg2draw.begin" / "seg3draw.begin" / "seg4draw.begin"
       以及 fill 颜色，与文字同步即可 -->

  <!-- 循环触发 -->
  <animate id="loop" xlink:href="#p1" attributeName="d"
           begin="seg4del.end+0.1s" dur="0.1s" fill="freeze"/>
</svg>
