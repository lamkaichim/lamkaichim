<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     viewBox="0 0 600 100"
     preserveAspectRatio="xMidYMid slice">
  <!-- 背景 -->
  <rect width="100%" height="100%" fill="#693644"/>

  <!-- Segment 1 -->
  <g id="seg1" visibility="visible">
    <path id="p1" d="M0,50 H0" fill="none"/>
    <animate id="seg1draw" href="#p1" attributeName="d"
             values="M0,50 H0;M0,50 H500" dur="2s"
             begin="0s;loop.end+0.1s" fill="freeze"/>
    <animate id="seg1del"  href="#p1" attributeName="d"
             values="M0,50 H500;M0,50 H0" dur="1s"
             begin="seg1draw.end+0.5s" fill="freeze"/>
    <set attributeName="visibility" to="hidden" begin="seg1del.end+1s"/>
    <set href="#seg1" attributeName="visibility" to="visible" begin="loop.begin"/>

    <!-- 正文 -->
    <text font-family="system-ui" font-size="32" font-weight="bold"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle"
          fill="#c0cf9d">
      <textPath xlink:href="#p1">&#x263A; Hey I am Stephen</textPath>
    </text>

    <!-- 闪烁光标 -->
    <text font-family="system-ui" font-size="32" font-weight="bold"
          text-anchor="middle" x="50%" y="50" dominant-baseline="middle"
          fill="#c0cf9d">
      <!-- startOffset=100% 保证光标在文字末尾 -->
      <textPath xlink:href="#p1" startOffset="100%">|</textPath>
      <animate attributeName="opacity"
               values="1;0;1" keyTimes="0;0.5;1"
               dur="1s"
               begin="seg1draw.begin"         
               repeatCount="indefinite"
               calcMode="discrete"/>
    </text>
  </g>

  <!-- 后面 seg2~seg4 依样画葫芦，注意所有 <textPath> 都要改成 xlink:href，并把光标的 begin 统一改成 draw.begin -->
  <!-- …… 省略 seg2、seg3、seg4 …… -->

  <!-- 循环触发 -->
  <animate id="loop" href="#p1" attributeName="d"
           begin="seg4del.end+0.6s"
           dur="0.1s" fill="freeze"/>
</svg>
